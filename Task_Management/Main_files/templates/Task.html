<!DOCTYPE html>
{% load static %}
<html>
    <head>
        <title>My Tasks</title>
        <link rel="stylesheet" href="{% static 'css/Task.css' %}">
        <script src="{% static 'js/script.js' %}"></script>
    </head>
    <body>
        <script>
            var home_url = "{% url 'home'  %}";
            var task_url= "{% url 'task' %}";
            var add_task_url = "{%url 'add_task' %}";
            var task_details_url = "{%url 'task_details' %}";
        </script>
        <header>
            <ul class="header">
                <li class="header"><button onclick="home()">Home</button></li> 
                <li class="header"><button onclick="add_task()">Add Task</button></li>
                <li class="header"><button onclick="task_details()">Task Details</button></li>
            </ul>
        </header>
        <div class="container">
            <h1>My Tasks</h1>
            <table border="1">
                <thead>
                    <tr>
                        <th>Task Name</th>
                        <th>Status</th>
                        <th>Priority</th>
                        <th>Due Date</th>
                        <th>Description</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Loop through tasks and display each task in a table row -->
                    {% for task in tasks %}
                        <tr>
                            <td>{{ task.name }}</td>
                            <td>{{ task.status }}</td>
                            <td>{{ task.priority }}</td>
                            <td>{{ task.due_date }}</td>
                            <td>{{ task.description }}</td>
                            <td>
                                <a href="{% url 'edit_task' task.id %}">Edit</a> | 
                                <a href="{% url 'delete_task' task.id %}" onclick="return confirm('Are you sure you want to delete this task?')">Delete</a>
                            </td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="5">No tasks available.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <footer>
            <p>&copy; 2024 Ayuktha. All rights reserved.</p>
        </footer>
    </body>
</html>